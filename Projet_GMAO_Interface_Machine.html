<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Interface Machine</title>
  <link rel="stylesheet" href="ProjetGMAO.css">
</head>
<body>

  <div class="interface-container">
    <div class="left-panel">
      <button class="info-btn">ETAT :</button>
      <button class="info-btn">NOM MACHINE:</button>
      <button class="info-btn">ID MACHINE:</button>
    </div>

    <div class="right-panel">
      <div class="intervention-box">
        <div class="intervention-header">LISTE DES INTERVENTIONS <ul id="messages"></ul> </div>
        <div class="intervention-list"></div>
      </div>
      <input type="text" id="messageInput" placeholder="Entrez un message">
      <button id="sendMessage" class="action-btn">Ajouter</button>
    

      <button class="action-btn"> SUPPRIMER</button>
    </div>
    
  </div>

  <script>
    // Connexion au serveur WebSocket
    const ws = new WebSocket('ws://localhost:9001');

    // Écouter les messages du serveur
    ws.onmessage = (event) => {
        const messagesList = document.getElementById('messages');
        const newMessage = document.createElement('li');
        newMessage.textContent = event.data;
        messagesList.appendChild(newMessage);
    };

    // Écouter clic sur le bouton d'envoi
    document.getElementById('sendMessage').onclick = () => {
        const input = document.getElementById('messageInput');
        const message = input.value;
        ws.send(message);
        input.value = ''; // Réinitialiser le champ de saisie
    };
</script>

</body>
</html>
